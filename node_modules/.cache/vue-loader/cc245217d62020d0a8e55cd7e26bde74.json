{"remainingRequest":"/Users/n/code/s2-extension/speedtoperformance/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/n/code/s2-extension/speedtoperformance/src/options/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/n/code/s2-extension/speedtoperformance/src/options/App.vue","mtime":1619330518428},{"path":"/Users/n/code/s2-extension/speedtoperformance/node_modules/css-loader/dist/cjs.js","mtime":1592672792076},{"path":"/Users/n/code/s2-extension/speedtoperformance/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1615175898195},{"path":"/Users/n/code/s2-extension/speedtoperformance/node_modules/postcss-loader/src/index.js","mtime":1576863260955},{"path":"/Users/n/code/s2-extension/speedtoperformance/node_modules/cache-loader/dist/cjs.js","mtime":1619144384763},{"path":"/Users/n/code/s2-extension/speedtoperformance/node_modules/vue-loader/lib/index.js","mtime":1615175898195}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpodG1sIHsKICB3aWR0aDogNDAwcHg7CiAgaGVpZ2h0OiA0MDBweDsKfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src/options","sourcesContent":["<template>\n  <div>\n    <h1>S2 Settings</h1>\n    \n    <div v-if=\"!this.authenticated\" >\n      <p>Set your API Key here</p>\n      <form id=\"api-key-form\" @submit.prevent=\"authApiKey\">\n        <input v-model=\"apiKey\" name=\"apiKey\" placeholder=\"Enter API key...\">\n        <button type=\"submit\">Submit</button>\n        <p style=\"color: red\" v-if=\"error\">Problem authenticating API key.</p>\n      </form>\n    </div>\n\n    <div v-else>\n      <p>Extension Authenticated</p>\n      <p>{{this.apiKey}}</p><a href=\"#\" @click=\"clearKey\">Clear</a>\n    </div>\n    \n  </div>\n</template>\n\n<script>\n//import HelloWorld from '@/components/HelloWorld.vue'\nimport axios from 'axios'\n\nconst AUTH_ENDPOINT = 'http://speedto.ngrok.io/api/v1/extension/auth'\n\nexport default {\n  name: 'App',\n  components: {  },\n  data() {\n    return {\n      apiKey: '',\n      authenticated: false,\n      error: false\n    }\n  },\n  methods: {\n    authApiKey: function() {\n      let vue_this = this\n      axios.post(AUTH_ENDPOINT, {\n        key: this.apiKey,\n      })\n      .then(function (response) {\n        chrome.storage.sync.set({ speed_to_ext_api_key: vue_this.apiKey }, function() {\n          vue_this.authenticated = true\n          vue_this.error = false\n          console.log(response)\n        })\n      })\n      .catch(function (error) {\n        vue_this.authenticated = false\n        vue_this.error = true\n        console.log(error);\n      })\n    },\n\n    loadApiKey: function() {\n      let vue_this = this \n      chrome.storage.sync.get(['speed_to_ext_api_key'], function(result) {\n        if (result.speed_to_ext_api_key) {\n          vue_this.apiKey = result.speed_to_ext_api_key\n          vue_this.authenticated = true\n          vue_this.error = false\n        } else {\n          vue_this.apiKey = \"\"\n          vue_this.authenticated = false\n        }\n      })\n    },\n\n    clearKey: function() {\n      let vue_this = this \n      chrome.storage.sync.set({ speed_to_ext_api_key: ''}, function() {\n        vue_this.apiKey = \"\"\n        vue_this.authenticated = false\n        vue_this.error = false\n      })\n    }\n  },\n  created() {\n    this.loadApiKey()\n  },\n  computed: {\n  }\n}\n</script>\n\n<style>\nhtml {\n  width: 400px;\n  height: 400px;\n}\n</style>\n"]}]}