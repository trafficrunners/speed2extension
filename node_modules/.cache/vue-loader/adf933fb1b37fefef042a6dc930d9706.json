{"remainingRequest":"/Users/n/code/speedtoperformance/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/n/code/speedtoperformance/src/options/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/n/code/speedtoperformance/src/options/App.vue","mtime":1619330518428},{"path":"/Users/n/code/speedtoperformance/node_modules/babel-loader/lib/index.js","mtime":1607993736332},{"path":"/Users/n/code/speedtoperformance/node_modules/cache-loader/dist/cjs.js","mtime":1619144384763},{"path":"/Users/n/code/speedtoperformance/node_modules/vue-loader/lib/index.js","mtime":1615175898195}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAnQC9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlJwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCgpjb25zdCBBVVRIX0VORFBPSU5UID0gJ2h0dHA6Ly9zcGVlZHRvLm5ncm9rLmlvL2FwaS92MS9leHRlbnNpb24vYXV0aCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7ICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcGlLZXk6ICcnLAogICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZSwKICAgICAgZXJyb3I6IGZhbHNlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhdXRoQXBpS2V5OiBmdW5jdGlvbigpIHsKICAgICAgbGV0IHZ1ZV90aGlzID0gdGhpcwogICAgICBheGlvcy5wb3N0KEFVVEhfRU5EUE9JTlQsIHsKICAgICAgICBrZXk6IHRoaXMuYXBpS2V5LAogICAgICB9KQogICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7IHNwZWVkX3RvX2V4dF9hcGlfa2V5OiB2dWVfdGhpcy5hcGlLZXkgfSwgZnVuY3Rpb24oKSB7CiAgICAgICAgICB2dWVfdGhpcy5hdXRoZW50aWNhdGVkID0gdHJ1ZQogICAgICAgICAgdnVlX3RoaXMuZXJyb3IgPSBmYWxzZQogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgICAgfSkKICAgICAgfSkKICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHZ1ZV90aGlzLmF1dGhlbnRpY2F0ZWQgPSBmYWxzZQogICAgICAgIHZ1ZV90aGlzLmVycm9yID0gdHJ1ZQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSkKICAgIH0sCgogICAgbG9hZEFwaUtleTogZnVuY3Rpb24oKSB7CiAgICAgIGxldCB2dWVfdGhpcyA9IHRoaXMgCiAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFsnc3BlZWRfdG9fZXh0X2FwaV9rZXknXSwgZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC5zcGVlZF90b19leHRfYXBpX2tleSkgewogICAgICAgICAgdnVlX3RoaXMuYXBpS2V5ID0gcmVzdWx0LnNwZWVkX3RvX2V4dF9hcGlfa2V5CiAgICAgICAgICB2dWVfdGhpcy5hdXRoZW50aWNhdGVkID0gdHJ1ZQogICAgICAgICAgdnVlX3RoaXMuZXJyb3IgPSBmYWxzZQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2dWVfdGhpcy5hcGlLZXkgPSAiIgogICAgICAgICAgdnVlX3RoaXMuYXV0aGVudGljYXRlZCA9IGZhbHNlCiAgICAgICAgfQogICAgICB9KQogICAgfSwKCiAgICBjbGVhcktleTogZnVuY3Rpb24oKSB7CiAgICAgIGxldCB2dWVfdGhpcyA9IHRoaXMgCiAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHsgc3BlZWRfdG9fZXh0X2FwaV9rZXk6ICcnfSwgZnVuY3Rpb24oKSB7CiAgICAgICAgdnVlX3RoaXMuYXBpS2V5ID0gIiIKICAgICAgICB2dWVfdGhpcy5hdXRoZW50aWNhdGVkID0gZmFsc2UKICAgICAgICB2dWVfdGhpcy5lcnJvciA9IGZhbHNlCiAgICAgIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkQXBpS2V5KCkKICB9LAogIGNvbXB1dGVkOiB7CiAgfQp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src/options","sourcesContent":["<template>\n  <div>\n    <h1>S2 Settings</h1>\n    \n    <div v-if=\"!this.authenticated\" >\n      <p>Set your API Key here</p>\n      <form id=\"api-key-form\" @submit.prevent=\"authApiKey\">\n        <input v-model=\"apiKey\" name=\"apiKey\" placeholder=\"Enter API key...\">\n        <button type=\"submit\">Submit</button>\n        <p style=\"color: red\" v-if=\"error\">Problem authenticating API key.</p>\n      </form>\n    </div>\n\n    <div v-else>\n      <p>Extension Authenticated</p>\n      <p>{{this.apiKey}}</p><a href=\"#\" @click=\"clearKey\">Clear</a>\n    </div>\n    \n  </div>\n</template>\n\n<script>\n//import HelloWorld from '@/components/HelloWorld.vue'\nimport axios from 'axios'\n\nconst AUTH_ENDPOINT = 'http://speedto.ngrok.io/api/v1/extension/auth'\n\nexport default {\n  name: 'App',\n  components: {  },\n  data() {\n    return {\n      apiKey: '',\n      authenticated: false,\n      error: false\n    }\n  },\n  methods: {\n    authApiKey: function() {\n      let vue_this = this\n      axios.post(AUTH_ENDPOINT, {\n        key: this.apiKey,\n      })\n      .then(function (response) {\n        chrome.storage.sync.set({ speed_to_ext_api_key: vue_this.apiKey }, function() {\n          vue_this.authenticated = true\n          vue_this.error = false\n          console.log(response)\n        })\n      })\n      .catch(function (error) {\n        vue_this.authenticated = false\n        vue_this.error = true\n        console.log(error);\n      })\n    },\n\n    loadApiKey: function() {\n      let vue_this = this \n      chrome.storage.sync.get(['speed_to_ext_api_key'], function(result) {\n        if (result.speed_to_ext_api_key) {\n          vue_this.apiKey = result.speed_to_ext_api_key\n          vue_this.authenticated = true\n          vue_this.error = false\n        } else {\n          vue_this.apiKey = \"\"\n          vue_this.authenticated = false\n        }\n      })\n    },\n\n    clearKey: function() {\n      let vue_this = this \n      chrome.storage.sync.set({ speed_to_ext_api_key: ''}, function() {\n        vue_this.apiKey = \"\"\n        vue_this.authenticated = false\n        vue_this.error = false\n      })\n    }\n  },\n  created() {\n    this.loadApiKey()\n  },\n  computed: {\n  }\n}\n</script>\n\n<style>\nhtml {\n  width: 400px;\n  height: 400px;\n}\n</style>\n"]}]}