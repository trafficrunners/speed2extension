{"remainingRequest":"/Users/n/code/speedtoperformance/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/n/code/speedtoperformance/src/popup/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/n/code/speedtoperformance/src/popup/App.vue","mtime":1619330521172},{"path":"/Users/n/code/speedtoperformance/node_modules/css-loader/dist/cjs.js","mtime":1592672792076},{"path":"/Users/n/code/speedtoperformance/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1615175898195},{"path":"/Users/n/code/speedtoperformance/node_modules/postcss-loader/src/index.js","mtime":1576863260955},{"path":"/Users/n/code/speedtoperformance/node_modules/cache-loader/dist/cjs.js","mtime":1619144384763},{"path":"/Users/n/code/speedtoperformance/node_modules/vue-loader/lib/index.js","mtime":1615175898195}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaHRtbCB7CiAgd2lkdGg6IDQwMHB4OwogIGhlaWdodDogNDAwcHg7Cn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src/popup","sourcesContent":["<template>\n  <div>\n    <h1>Web Performance</h1>\n    <hr>\n    <div v-if=\"!authenticated\">\n      <p>You aren't authenticated yet.</p>\n      <a href=\"#\" @click=\"openOptionsPage\">Enter Your API Key</a>\n    </div>\n    <div v-else>\n      <small>Run audit for: {{ target }}</small><br>\n      <a href=\"#\" @click=\"runAudit\">Audit</a>\n    </div>\n    \n  </div>\n</template>\n\n<script>\n//import HelloWorld from '@/components/HelloWorld.vue'\nimport axios from 'axios'\n\nconst REPORT_ENDPOINT = 'http://speedto.ngrok.io/api/v1/extension/performance_reports'\n\nexport default {\n  name: 'App',\n  components: {  },\n  data() {\n    return {\n      apiKey: '',\n      authenticated: false,\n      error: false,\n      target: ''\n    }\n  },\n  methods: {\n    setCurrentUrl() {\n      let vue_this = this \n      chrome.tabs.query({active: true, lastFocusedWindow: true}, tabs => {\n\n        let url = tabs[0].url;\n        console.log(`setting url: ${url}`)\n        vue_this.target = url \n      });\n    },\n\n    loadApiKey: function() {\n      let vue_this = this \n      chrome.storage.sync.get(['speed_to_ext_api_key'], function(result) {\n        if (result.speed_to_ext_api_key) {\n          vue_this.apiKey = result.speed_to_ext_api_key\n          vue_this.authenticated = true\n          vue_this.error = false\n        } else {\n          vue_this.apiKey = \"\"\n          vue_this.authenticated = false\n        }\n      })\n    },\n\n    openOptionsPage() {\n      chrome.tabs.create({ 'url': 'chrome://extensions/?options=' + chrome.runtime.id });\n    },\n\n    runAudit() {\n      let vue_this = this \n\n      axios.post(REPORT_ENDPOINT, {\n        api_key: this.apiKey,\n        url: this.target\n      })\n      .then(function (response) {\n        console.log(response)\n      })\n      .catch(function (error) {\n        vue_this.error = true\n        console.log(error);\n      })\n    }\n\n  },\n  computed: {\n  },\n  created() {\n    this.setCurrentUrl()\n    this.loadApiKey()\n  }\n\n}\n</script>\n\n<style>\nhtml {\n  width: 400px;\n  height: 400px;\n}\n</style>\n"]}]}