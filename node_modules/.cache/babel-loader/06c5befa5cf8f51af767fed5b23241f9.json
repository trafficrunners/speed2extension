{"remainingRequest":"/Users/n/code/s2-extension/speedtoperformance/node_modules/thread-loader/dist/cjs.js!/Users/n/code/s2-extension/speedtoperformance/node_modules/babel-loader/lib/index.js!/Users/n/code/s2-extension/speedtoperformance/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/n/code/s2-extension/speedtoperformance/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/n/code/s2-extension/speedtoperformance/src/options/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/n/code/s2-extension/speedtoperformance/src/options/App.vue","mtime":1619330518428},{"path":"/Users/n/code/s2-extension/speedtoperformance/node_modules/cache-loader/dist/cjs.js","mtime":1619144384763},{"path":"/Users/n/code/s2-extension/speedtoperformance/node_modules/thread-loader/dist/cjs.js","mtime":1619144384767},{"path":"/Users/n/code/s2-extension/speedtoperformance/node_modules/babel-loader/lib/index.js","mtime":1607993736332},{"path":"/Users/n/code/s2-extension/speedtoperformance/node_modules/cache-loader/dist/cjs.js","mtime":1619144384763},{"path":"/Users/n/code/s2-extension/speedtoperformance/node_modules/vue-loader/lib/index.js","mtime":1615175898195}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy9pbXBvcnQgSGVsbG9Xb3JsZCBmcm9tICdAL2NvbXBvbmVudHMvSGVsbG9Xb3JsZC52dWUnCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBBVVRIX0VORFBPSU5UID0gJ2h0dHA6Ly9zcGVlZHRvLm5ncm9rLmlvL2FwaS92MS9leHRlbnNpb24vYXV0aCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXBpS2V5OiAnJywKICAgICAgYXV0aGVudGljYXRlZDogZmFsc2UsCiAgICAgIGVycm9yOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGF1dGhBcGlLZXk6IGZ1bmN0aW9uIGF1dGhBcGlLZXkoKSB7CiAgICAgIHZhciB2dWVfdGhpcyA9IHRoaXM7CiAgICAgIGF4aW9zLnBvc3QoQVVUSF9FTkRQT0lOVCwgewogICAgICAgIGtleTogdGhpcy5hcGlLZXkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7CiAgICAgICAgICBzcGVlZF90b19leHRfYXBpX2tleTogdnVlX3RoaXMuYXBpS2V5CiAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdnVlX3RoaXMuYXV0aGVudGljYXRlZCA9IHRydWU7CiAgICAgICAgICB2dWVfdGhpcy5lcnJvciA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICB2dWVfdGhpcy5hdXRoZW50aWNhdGVkID0gZmFsc2U7CiAgICAgICAgdnVlX3RoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZEFwaUtleTogZnVuY3Rpb24gbG9hZEFwaUtleSgpIHsKICAgICAgdmFyIHZ1ZV90aGlzID0gdGhpczsKICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoWydzcGVlZF90b19leHRfYXBpX2tleSddLCBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC5zcGVlZF90b19leHRfYXBpX2tleSkgewogICAgICAgICAgdnVlX3RoaXMuYXBpS2V5ID0gcmVzdWx0LnNwZWVkX3RvX2V4dF9hcGlfa2V5OwogICAgICAgICAgdnVlX3RoaXMuYXV0aGVudGljYXRlZCA9IHRydWU7CiAgICAgICAgICB2dWVfdGhpcy5lcnJvciA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2dWVfdGhpcy5hcGlLZXkgPSAiIjsKICAgICAgICAgIHZ1ZV90aGlzLmF1dGhlbnRpY2F0ZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNsZWFyS2V5OiBmdW5jdGlvbiBjbGVhcktleSgpIHsKICAgICAgdmFyIHZ1ZV90aGlzID0gdGhpczsKICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoewogICAgICAgIHNwZWVkX3RvX2V4dF9hcGlfa2V5OiAnJwogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdnVlX3RoaXMuYXBpS2V5ID0gIiI7CiAgICAgICAgdnVlX3RoaXMuYXV0aGVudGljYXRlZCA9IGZhbHNlOwogICAgICAgIHZ1ZV90aGlzLmVycm9yID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZEFwaUtleSgpOwogIH0sCiAgY29tcHV0ZWQ6IHt9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,IAAA,aAAA,GAAA,+CAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA,KAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,UAAA,QAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,aAAA,EAAA;AACA,QAAA,GAAA,EAAA,KAAA;AADA,OAAA,EAGA,IAHA,CAGA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AAAA,UAAA,oBAAA,EAAA,QAAA,CAAA;AAAA,SAAA,EAAA,YAAA;AACA,UAAA,QAAA,CAAA,aAAA,GAAA,IAAA;AACA,UAAA,QAAA,CAAA,KAAA,GAAA,KAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,SAJA;AAKA,OATA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA,QAAA,QAAA,CAAA,aAAA,GAAA,KAAA;AACA,QAAA,QAAA,CAAA,KAAA,GAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAdA;AAeA,KAlBA;AAoBA,IAAA,UAAA,EAAA,sBAAA;AACA,UAAA,QAAA,GAAA,IAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA,sBAAA,CAAA,EAAA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,oBAAA,EAAA;AACA,UAAA,QAAA,CAAA,MAAA,GAAA,MAAA,CAAA,oBAAA;AACA,UAAA,QAAA,CAAA,aAAA,GAAA,IAAA;AACA,UAAA,QAAA,CAAA,KAAA,GAAA,KAAA;AACA,SAJA,MAIA;AACA,UAAA,QAAA,CAAA,MAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,aAAA,GAAA,KAAA;AACA;AACA,OATA;AAUA,KAhCA;AAkCA,IAAA,QAAA,EAAA,oBAAA;AACA,UAAA,QAAA,GAAA,IAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AAAA,QAAA,oBAAA,EAAA;AAAA,OAAA,EAAA,YAAA;AACA,QAAA,QAAA,CAAA,MAAA,GAAA,EAAA;AACA,QAAA,QAAA,CAAA,aAAA,GAAA,KAAA;AACA,QAAA,QAAA,CAAA,KAAA,GAAA,KAAA;AACA,OAJA;AAKA;AAzCA,GAVA;AAqDA,EAAA,OArDA,qBAqDA;AACA,SAAA,UAAA;AACA,GAvDA;AAwDA,EAAA,QAAA,EAAA;AAxDA,CAAA","sourcesContent":["<template>\n  <div>\n    <h1>S2 Settings</h1>\n    \n    <div v-if=\"!this.authenticated\" >\n      <p>Set your API Key here</p>\n      <form id=\"api-key-form\" @submit.prevent=\"authApiKey\">\n        <input v-model=\"apiKey\" name=\"apiKey\" placeholder=\"Enter API key...\">\n        <button type=\"submit\">Submit</button>\n        <p style=\"color: red\" v-if=\"error\">Problem authenticating API key.</p>\n      </form>\n    </div>\n\n    <div v-else>\n      <p>Extension Authenticated</p>\n      <p>{{this.apiKey}}</p><a href=\"#\" @click=\"clearKey\">Clear</a>\n    </div>\n    \n  </div>\n</template>\n\n<script>\n//import HelloWorld from '@/components/HelloWorld.vue'\nimport axios from 'axios'\n\nconst AUTH_ENDPOINT = 'http://speedto.ngrok.io/api/v1/extension/auth'\n\nexport default {\n  name: 'App',\n  components: {  },\n  data() {\n    return {\n      apiKey: '',\n      authenticated: false,\n      error: false\n    }\n  },\n  methods: {\n    authApiKey: function() {\n      let vue_this = this\n      axios.post(AUTH_ENDPOINT, {\n        key: this.apiKey,\n      })\n      .then(function (response) {\n        chrome.storage.sync.set({ speed_to_ext_api_key: vue_this.apiKey }, function() {\n          vue_this.authenticated = true\n          vue_this.error = false\n          console.log(response)\n        })\n      })\n      .catch(function (error) {\n        vue_this.authenticated = false\n        vue_this.error = true\n        console.log(error);\n      })\n    },\n\n    loadApiKey: function() {\n      let vue_this = this \n      chrome.storage.sync.get(['speed_to_ext_api_key'], function(result) {\n        if (result.speed_to_ext_api_key) {\n          vue_this.apiKey = result.speed_to_ext_api_key\n          vue_this.authenticated = true\n          vue_this.error = false\n        } else {\n          vue_this.apiKey = \"\"\n          vue_this.authenticated = false\n        }\n      })\n    },\n\n    clearKey: function() {\n      let vue_this = this \n      chrome.storage.sync.set({ speed_to_ext_api_key: ''}, function() {\n        vue_this.apiKey = \"\"\n        vue_this.authenticated = false\n        vue_this.error = false\n      })\n    }\n  },\n  created() {\n    this.loadApiKey()\n  },\n  computed: {\n  }\n}\n</script>\n\n<style>\nhtml {\n  width: 400px;\n  height: 400px;\n}\n</style>\n"],"sourceRoot":"src/options"}]}